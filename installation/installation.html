<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation | TREADMILL documentation</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/treadmilldoc/assets/css/0.styles.b9c2e5d0.css" as="style"><link rel="preload" href="/treadmilldoc/assets/js/app.f13192c6.js" as="script"><link rel="preload" href="/treadmilldoc/assets/js/2.e9dff705.js" as="script"><link rel="preload" href="/treadmilldoc/assets/js/8.1bcebbb0.js" as="script"><link rel="prefetch" href="/treadmilldoc/assets/js/10.a629e91b.js"><link rel="prefetch" href="/treadmilldoc/assets/js/3.bd48039e.js"><link rel="prefetch" href="/treadmilldoc/assets/js/4.988f4cc4.js"><link rel="prefetch" href="/treadmilldoc/assets/js/5.9ae22b58.js"><link rel="prefetch" href="/treadmilldoc/assets/js/6.67696df0.js"><link rel="prefetch" href="/treadmilldoc/assets/js/7.11a62a51.js"><link rel="prefetch" href="/treadmilldoc/assets/js/9.b9f07bb4.js">
    <link rel="stylesheet" href="/treadmilldoc/assets/css/0.styles.b9c2e5d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/treadmilldoc/" class="home-link router-link-active"><!----> <span class="site-name">TREADMILL documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/treadmilldoc/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/treadmilldoc/installation/installation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Installation
</a></div><div class="nav-item"><a href="/treadmilldoc/usage/usage.html" class="nav-link">
  General usage
</a></div><div class="nav-item"><a href="/treadmilldoc/usecases/usecases.html" class="nav-link">
  Use cases
</a></div><div class="nav-item"><a href="https://github.com/davidebolo1993/TREADMILL.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/treadmilldoc/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/treadmilldoc/installation/installation.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Installation
</a></div><div class="nav-item"><a href="/treadmilldoc/usage/usage.html" class="nav-link">
  General usage
</a></div><div class="nav-item"><a href="/treadmilldoc/usecases/usecases.html" class="nav-link">
  Use cases
</a></div><div class="nav-item"><a href="https://github.com/davidebolo1993/TREADMILL.git" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/treadmilldoc/installation/installation.html" aria-current="page" class="active sidebar-link">Installation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/treadmilldoc/installation/installation.html#installation-from-source" class="sidebar-link">Installation from source</a></li><li class="sidebar-sub-header"><a href="/treadmilldoc/installation/installation.html#docker-container" class="sidebar-link">Docker container</a></li></ul></li><li><a href="/treadmilldoc/usage/usage.html" class="sidebar-link">General usage</a></li><li><a href="/treadmilldoc/usecases/usecases.html" class="sidebar-link">Use cases</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h1> <p><a href="https://github.com/davidebolo1993/TREADMILL" target="_blank" rel="noopener noreferrer">TREADMILL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is written in python 3 with supporting C++ scripts. It requires a working python 3 environment with gcc 4.8+ and cmake 3.2+ on a unix machine in order to be installed from source and run properly.</p> <div class="language- extra-class"><pre class="language-text"><code>	 ______ ______  ______  ______  _____   __    __  __  __      __  
	/\__  _/\  == \/\  ___\/\  __ \/\  __-./\ &quot;-./  \/\ \/\ \    /\ \  
	\/_/\ \\ \  __&lt;\ \  __\\ \  __ \ \ \/\ \ \ \-./\ \ \ \ \ \___\ \ \____  
	   \ \_\\ \_\ \_\ \_____\ \_\ \_\ \____-\ \_\ \ \_\ \_\ \_____\ \_____\  
	    \/_/ \/_/ /_/\/_____/\/_/\/_/\/____/ \/_/  \/_/\/_/\/_____/\/_____/ v1.0  

</code></pre></div><h2 id="installation-from-source"><a href="#installation-from-source" class="header-anchor">#</a> Installation from source</h2> <p>A python 3 environment can be created using <a href="https://www.anaconda.com/" target="_blank" rel="noopener noreferrer">Anaconda<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and its minimal installer <a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noopener noreferrer">Miniconda<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. For the Ubuntu distro, for instance:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token function">curl</span> <span class="token function">git</span> build-essential g++ cmake libz-dev libcurl4-openssl-dev libssl-dev libbz2-dev liblzma-dev libncurses5-dev
<span class="token function">curl</span> -LO https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
<span class="token function">bash</span> Miniconda3-latest-Linux-x86_64.sh
<span class="token builtin class-name">cd</span> ~ <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">source</span> .bashrc
conda update -y conda
conda create -y -n treadmillenv <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.8</span>
</code></pre></div><p>Once the python 3 environment has been created, conda can be used to install the required dependencies. TREADMILL only requires bedtools in PATH (as this is required by pybedtools). However, tools like samtools and bcftools are useful to browse TREADMILL's output files.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>conda <span class="token function">install</span> -y -n treadmillenv -c bioconda bedtools
<span class="token comment">#get htslib (optional)</span>
<span class="token function">curl</span> -LO https://github.com/samtools/htslib/releases/download/1.11/htslib-1.11.tar.bz2 <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> -vxjf htslib-1.11.tar.bz2 <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> htslib-1.11 <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token comment">#get samtools (optional)</span>
<span class="token function">curl</span> -LO https://github.com/samtools/samtools/releases/download/1.11/samtools-1.11.tar.bz2 <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> -vxjf samtools-1.11.tar.bz2 <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> samtools-1.11 <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
<span class="token comment">#get bcftools (optional)</span>
<span class="token function">curl</span> -LO https://github.com/samtools/bcftools/releases/download/1.11/bcftools-1.11.tar.bz2 <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> -vxjf bcftools-1.11.tar.bz2 <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> bcftools-1.11 <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
</code></pre></div><p><a href="https://github.com/davidebolo1993/TREADMILL" target="_blank" rel="noopener noreferrer">TREADMILL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> can then be cloned and installed.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>conda activate treadmillenv
<span class="token function">git</span> clone --recursive https://github.com/davidebolo1993/TREADMILL
<span class="token builtin class-name">cd</span> TREADMILL
./configure
python setup.py <span class="token function">install</span>
TREADMILL --help
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>
</code></pre></div><p>For methylation calling, TREADMILL uses <a href="https://github.com/bioinfomaticsCSU/deepsignal" target="_blank" rel="noopener noreferrer">DeepSignal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. This can be installed following instructions at the <a href="https://github.com/bioinfomaticsCSU/deepsignal/blob/master/README.md" target="_blank" rel="noopener noreferrer">authors' README<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, which are also summarized below:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>conda create -y -n deepsignalenv <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.6</span>
conda <span class="token function">install</span> -y -n deepsignalenv -c bioconda ont-fast5-api ont-tombo

<span class="token comment">#cpu-based usage</span>
conda <span class="token function">install</span> -y -n deepsignalenv -c anaconda <span class="token assign-left variable">tensorflow</span><span class="token operator">==</span><span class="token number">1.13</span>.1
<span class="token comment">#gpu-based usage</span>
conda <span class="token function">install</span> -y -n deepsignalenv -c anaconda tensorflow-gpu<span class="token operator">==</span><span class="token number">1.13</span>.1
conda activate deepsignalenv

<span class="token function">git</span> clone https://github.com/bioinfomaticsCSU/deepsignal.git
<span class="token builtin class-name">cd</span> deepsignal
python setup.py <span class="token function">install</span>
deepsignal --help
<span class="token builtin class-name">cd</span> scripts
<span class="token function">chmod</span> +x call_modification_frequency.py
<span class="token builtin class-name">echo</span> <span class="token string">&quot;export PATH=<span class="token environment constant">$PWD</span>:\<span class="token environment constant">$PATH</span>&quot;</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/
</code></pre></div><h2 id="docker-container"><a href="#docker-container" class="header-anchor">#</a> Docker container</h2> <p>For <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> users, <a href="https://github.com/davidebolo1993/TREADMILL" target="_blank" rel="noopener noreferrer">TREADMILL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is also available as a <a href="https://hub.docker.com/r/davidebolo1993/treadmill" target="_blank" rel="noopener noreferrer">Docker container<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The container also includes a working <a href="https://github.com/bioinfomaticsCSU/deepsignal" target="_blank" rel="noopener noreferrer">DeepSignal<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> cpu-only installation. One can pull and run the image as follows.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#will require sudo privileges, probably</span>
docker pull davidebolo1993/treadmill
docker run davidebolo1993/treadmill TREADMILL --help
<span class="token comment">#or using an interactive tty to the docker container</span>
docker run -ti davidebolo1993/treadmill
<span class="token comment">#$(treadmillenv) TREADMILL --help</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/treadmilldoc/usage/usage.html">
        General usage
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/treadmilldoc/assets/js/app.f13192c6.js" defer></script><script src="/treadmilldoc/assets/js/2.e9dff705.js" defer></script><script src="/treadmilldoc/assets/js/8.1bcebbb0.js" defer></script>
  </body>
</html>
